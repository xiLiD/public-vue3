(window.webpackJsonp=window.webpackJsonp||[]).push([["manifest"],{"0e0e":function(t,e,n){},"2c77":function(t,e,n){"use strict";var a=n("3427");n.n(a).a},3427:function(t,e,n){},8627:function(t,e,n){"use strict";n.r(e);n("c740"),n("d81d"),n("4160"),n("c975"),n("b64b"),n("d3b7"),n("159b"),n("4795");var a=n("bc3a"),o=n.n(a),r=n("4360"),s=n("5c96"),i=window.$httpLoading,c=o.a.create();function d(t){return!(!(t=t||{}).showLoading&&void 0!==t.showLoading)||t.showLoading}function l(t,e,n){return new Promise((function(n){if(t){var a=e.loadingTime||1500;i.show(),setTimeout((function(){n(e)}),a)}else n(e)})).then((function(t){return n(t)}))}function u(t){var e=d(t),n=t.data;return l(e,t,(function(e){return c.post(e.url,n,{timeout:t.timeOut||2e5,headers:{"Content-Type":"application/json;charset=UTF-8"}})}))}c.interceptors.request.use((function(t){return r.a.state.token&&(t.headers.token=r.a.state.token),t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return i.close(),200==t.status&&t.data&&"0"==t.data.code||200==t.status&&t.data.type?Promise.resolve(t):Promise.reject(t)}),(function(t){if(i.close(),console.log("拦截器响应失败!",t),console.log(t.response),t&&t.response)switch(t.response.status){case 400:t.msg="请求错误(400)";break;case 401:t.msg="未授权，请重新登录(401)";break;case 403:t.msg="拒绝访问(403)";break;case 404:t.msg="请求出错(404)";break;case 408:t.msg="请求超时(408)";break;case 500:t.msg="服务器错误(500)";break;case 501:t.msg="服务未实现(501)";break;case 502:t.msg="网络错误(502)";break;case 503:t.msg="服务不可用(503)";break;case 504:t.msg="网络超时(504)";break;case 505:t.msg="HTTP版本不受支持(505)";break;default:t.msg="连接出错(".concat(t.response.status,")!")}else-1!==t.message.indexOf("timeout")?t.msg="请求超时!":t.msg="连接服务器失败!";s.Message.error(t.msg)}));var m={findActiveOfferOffInfo:"/findActiveOfferOffInfo",findTCkmSegmentInfo:"/CrmProdController/findTCkmSegmentInfo",findTdCaCrmCampnConfigInfo:"/CrmProdController/findTdCaCrmCampnConfigInfo",findTdCaCrmCampnConfigProdInfo:"/CrmProdController/findTdCaCrmCampnConfigProdInfo"},f={development:"http://200.200.1.172:8082",production:window.location.protocol+"//"+window.location.host};function p(t,e){var n=f.production;return e=e||"/iop2/monitoring/ActiveController",Object.assign({},{url:n+e+t.url,data:t.data,showLoading:t.showLoading,timeOut:t.timeOut,loadingTime:t.loadingTime,isLoading:t.isLoading})}console.log(m);var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.url=m.findTCkmSegmentInfo,u(p(t,"/iop2/monitoring"))},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.url=m.findTdCaCrmCampnConfigInfo,u(p(t,"/iop2/monitoring"))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.url=m.findTdCaCrmCampnConfigProdInfo,u(p(t,"/iop2/monitoring"))},b={data:function(){return{tableData:[],menuList:[],menuClassId:"",productId:"",productData:[],expands:[]}},mounted:function(){this.getMenu()},methods:{openLink:function(t){var e=t.target.getAttribute("data-link");window.open(e,"_blank")},setMenuIndex:function(t){this.menuClassId=this.menuList[t].class1Id,this.getProducts()},getMenu:function(){var t=this;v().then((function(e){t.menuList=e.data.data,t.menuClassId=t.menuList[0].class1Id,t.getProducts()})).catch((function(e){t.$message.error(e.data.msg)}))},getProducts:function(){var t=this,e={class1Id:this.menuClassId};h({data:e,showLoading:!0}).then((function(e){e.data.data.map((function(t,e){var n=t;return n.codeKey=t.campnProdCode+"_"+e,n})),t.productData=e.data.data,t.expands=[]})).catch((function(e){t.$message.error(e.data.msg)}))},getExpand:function(t,e){var n=this,a=this.productData.findIndex((function(e){return e.codeKey==t.codeKey}));if(e.length>0){var o={resourceId:t.campnProdCode};e.length>1&&(this.expands=[]),g({data:o,showLoading:!0}).then((function(e){e.data.data.map((function(t,e){var n=t;return n.index=e,n})),n.children=e.data.data,n.productData[a].children=e.data.data,n.expands.push(t.codeKey)})).catch((function(t){n.$message.error(t.data.msg)}))}else this.expands=[]}}},C=(n("2c77"),n("2877")),w=Object(C.a)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content"},[t.menuList.length>0?n("el-col",{attrs:{span:4}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.setMenuIndex}},t._l(t.menuList,(function(e,a){return n("el-menu-item",{key:a,attrs:{index:a.toString()}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.class1Name))])])})),1)],1):t._e(),t.menuList.length>0?n("el-col",{attrs:{span:20}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.productData,"expand-row-keys":t.expands,"row-key":"codeKey"},on:{"expand-change":t.getExpand}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{attrs:{data:e.row.children,"row-key":"index"}},[n("el-table-column",{attrs:{label:"客户群 ID",prop:"tagId"}}),n("el-table-column",{attrs:{label:"客户群名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{"data-link":e.row.url,target:"_blank"},on:{click:t.openLink}},[t._v(t._s(e.row.tagName))])]}}],null,!0)}),n("el-table-column",{attrs:{label:"引用到期时间",prop:"endDate"}})],1)]}}],null,!1,1841160151)}),n("el-table-column",{attrs:{label:"产品 ID",prop:"campnProdCode"}}),n("el-table-column",{attrs:{label:"产品名称",prop:"campnProdName"}}),n("el-table-column",{attrs:{label:"被引客户群数"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{color:"rgb(140, 197, 255)","font-weight":"bold"}},[t._v(t._s(e.row.counts))])]}}],null,!1,2888101899)})],1)],1):t._e()],1)}),[],!1,null,"6109ffc9",null);e.default=w.exports},"93f9":function(t,e,n){"use strict";n.r(e);n("13fc");var a={data:function(){return{activeIndex:1}},watch:{$route:{handler:function(t,e){this.activeIndex=t.meta.navbar},immediate:!0}},methods:{goPage:function(t){this.$router.push(t)}}},o=(n("cbfa"),n("2877")),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerContent box-start align-end Pl-30"},[n("div",{staticClass:"menuItem box-v-center",class:{activeMenu:1===t.activeIndex},on:{click:function(e){return t.goPage("/index")}}},[t._v(" 首页 ")]),n("div",{staticClass:"menuItem box-v-center",class:{activeMenu:2===t.activeIndex},on:{click:function(e){return t.goPage("/turnNotification")}}},[t._v(" 携转战况通报 ")]),n("div",{staticClass:"menuItem box-v-center",class:{activeMenu:3===t.activeIndex}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.goPage}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" 个人市场出账收入预测"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"/markIncome"}},[t._v("个人市场收入")]),n("el-dropdown-item",{attrs:{command:"/markIncome/plan"}},[t._v("个人套餐")]),n("el-dropdown-item",{attrs:{command:"/markIncome/valuePack"}},[t._v("个人价值包")]),n("el-dropdown-item",{attrs:{command:"/markIncome/newBussiness"}},[t._v("个人新业务")]),n("el-dropdown-item",{attrs:{command:"/markIncome/company"}},[t._v("个人政务")]),n("el-dropdown-item",{attrs:{command:"/markIncome/family"}},[t._v("个人家庭")]),n("el-dropdown-item",{attrs:{command:"/markIncome/outside"}},[t._v("个人套外")])],1)],1)],1),n("div",{staticClass:"menuItem box-v-center",class:{activeMenu:4===t.activeIndex},on:{click:function(e){return t.goPage("/turnPortrait")}}},[t._v(" 携转客户画像 ")]),n("div",{staticClass:"menuItem box-v-center",class:{activeMenu:5===t.activeIndex},on:{click:function(e){return t.goPage("/leaflet")}}},[t._v(" 地图 ")])])}),[],!1,null,"7e75f9df",null).exports,s={name:"AppMain",methods:{refresh:function(){this.$refs.currentView.refresh()}}},i=(n("a4db"),{name:"Layout",components:{Navbar:r,AppMain:Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-main"},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("router-view",{ref:"currentView"})],1)],1)}),[],!1,null,"7dca4a2a",null).exports},methods:{refreshPage:function(){this.$refs.appMain.refresh()}}}),c=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("app-main",{ref:"appMain"})],1)}),[],!1,null,null,null);e.default=c.exports},a4db:function(t,e,n){"use strict";var a=n("efc2");n.n(a).a},cbfa:function(t,e,n){"use strict";var a=n("0e0e");n.n(a).a},efc2:function(t,e,n){}}]);